---
title: "Final Abstract"
author: "Alyssa Monda"
date: "11/26/2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(tidyverse)
library(knitr)
library(psych)
```


##Load data into R
```{r}
#Load data into R and assign data to the name BB
library(readr)
BB <- read_csv("~/Desktop/Biobank.csv", 
    col_types = cols(hfage = col_double()))
View(BB)
```

##Filter Individuals from data set who meet inclusion criteria (Diagnosed with HF, "age" 65+)
```{r}
#Subsset by "age" to ensure minimum "age" is 65
OBB <-subset(BB, age>=65)
summary(OBB$`age`)

#Subset by HF (1=yes, 0=No) ****Total N for OA with HF = 478 *****
CVBB <-subset(OBB, hfhist== 1)
summary(CVBB$hfhist)
CVBB$hfhist

```

#Distribution of depression diagnosis vs depressive symtpoms 
```{r}
hist(CVBB$dephist)
hist(CVBB$`mdclass#`)
#Based on distribution it appears it may be best to use depressive symptoms and create 3 groups, minimal to mild, moderate,and  moderately severe to severe. Then compare outcomes of the 3 groups. There are a limited number with diagnosed depression which does not match PHQ results. 


CVBB$mdtype <- CVBB$`mdclass#`

#Number of individuals with reported depression on chart review


#Subset minimal to mild depression
DMin <-subset(CVBB,mdtype<= 2)
summary(DMin$'mdclass#')
DMin$'mdclass#'

#Subset moderate depression
DMod <-subset(CVBB,mdtype== 3)
summary(DMod$'mdclass#')
DMod$'mdclass#'

#Subset moderately severe to severe depression
DSev <-subset(CVBB,mdtype>=4)
summary(DSev$'mdclass#')
DSev$'mdclass#'


```

Total N=478
Min-Mild Depressive Sx n=124
Moderate Depressive Sx n=160
Moderately Severe to Severe Depressive Sx n=131

#Summary of total dataset
```{r}
summary(CVBB,  na.rm=TRUE)
describe(CVBB, na.rm=TRUE)
```

#Summary of Min to Mild
```{r}
summary(DMin,  na.rm=TRUE)
describe(DMin,  na.rm=TRUE)
```

#Summary of Moderate
```{r}
summary(DMod,  na.rm=TRUE)
describe(DMod,  na.rm=TRUE)
```

#Summary of Moderately Severe to Severe 
```{r}
summary(DSev,  na.rm=TRUE)
describe(DSev,  na.rm=TRUE)
```













